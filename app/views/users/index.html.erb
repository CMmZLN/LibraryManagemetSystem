
<%
=begin%>
 <h1>This is from /users/index/ Page.</h1>  
<%
=end%>
<div class="overFlow" style="height:100vh">
  <div style="display:flex">
    <nav class="col-3">
      <%= render "layouts/nav"%>
    </nav>
  
    <section class="col-9 " style="">
      <h1 class="mt-3" style="text-align:center; font-weight:bold; margin-bottom:-8px">学生一覧</h1>
      <article >
        <div class="mb-2">
        <%=  form_tag "/admin/students", style: "margin-top:23px",method: 'post' do %>
          <%= text_field_tag :search, nil, :placeholder=> "名称、ロール番号で検索してください" ,style:"width:32%; height:2em;margin-right:3%" %>
          <%= submit_tag("検索", style:"background-color:black;color:white; border:0 solid black; border-radius:5px; width:8%") %>
      <% end %>
      </div>   
        
        <div style="">
          <table class="table table-stripped  rounded" style="">
            <thead style="font-size:18; font-weight:bold">
              <tr>
                <th>名称</th>
                <th>ロール番号</th>
                <th>メール</th>
                <th>電話番号</th>
                <th> </th>
              </tr>
            </thead>

            <tbody >
              <% @users.each do |user| %>
              <tr>
                <td style="font-size:16px; width:18%"> <%= user.name %></td>
                <td style="font-size:16px; width:0px"> <%= user.roll_no %></td>
                <td style="font-size:16px; width:33%"> <%= user.email %></td>
                <td style="font-size:16px; width:140px"> <%= user.tel %></td>
                <td style="font-size:16px; width:119px">
                  
                  <button class="btn btn-primary btn-sm" id="btnDelete"  name="btnDelete" type="button" onClick="deleteFunc(<%= user.id %>);" style="margin-top:-13px; margin-bottom:-13px;" >削除</button>
                  <button class="btn btn-primary btn-sm" style="margin-top:-13px; margin-bottom:-13px;">
                  <a href="/admin/student/edit/<%= user.id %>" style="text-decoration:none; color:white;">
                  更新
                  </a>
                  </button>
                </td>
              </tr>
              <% end %>
            </tbody>  
          </table>
        </div>
        <%= pagy_bootstrap_nav(@pagy).html_safe %>
      <article>
    </section>
  </div>
</div>



<div class="modal-container" id="modal_container" >
  <div class="model" style="background-color:white; border-radius:5px; padding:35px 50px; margin-left:312px ">

    <%= form_with url: "/user/destroy",method: :delete do |form|%>
      <p style="font-weight:bold; font-size:18px">削除してもよろしいでしょうか？</p>
      <%= form.hidden_field :id , id: "userId" %>
      <%= form.submit "はい", class:"modal-btn", id:"close" , style:"color:purple; margin-left:5%; font-weight:bold"%>
    <%end%> 

  </div>
  <div style="margin-top:-94px; margin-left:32%;">
    <button class="modal-btn"  id="closeModalBox" onClick="closeModalBox()" style="margin-top:15px; color:purple; margin-right:26px; font-weight:bold">キャンセル</button>
  </div>
  
</div>


<div>
  
</div>


